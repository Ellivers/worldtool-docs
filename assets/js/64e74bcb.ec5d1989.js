"use strict";(self.webpackChunkworldtool_docs=self.webpackChunkworldtool_docs||[]).push([[4160],{7883:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"making-a-plugin/shapes","title":"Shapes","description":"Shapes are generated with specified properties using the Shape Generation Tool","source":"@site/docs/making-a-plugin/shapes.md","sourceDirName":"making-a-plugin","slug":"/making-a-plugin/shapes","permalink":"/worldtool-docs/docs/making-a-plugin/shapes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Brushes","permalink":"/worldtool-docs/docs/making-a-plugin/brushes"},"next":{"title":"Tools","permalink":"/worldtool-docs/docs/making-a-plugin/tools"}}');var r=n(4848),o=n(8453);const t={sidebar_position:7},i="Shapes",l={},d=[{value:"Making a Shape",id:"making-a-shape",level:2},{value:"Extra: Making a Preview",id:"extra-making-a-preview",level:2}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"shapes",children:"Shapes"})}),"\n",(0,r.jsx)(s.p,{children:"Shapes are generated with specified properties using the Shape Generation Tool"}),"\n",(0,r.jsx)(s.h2,{id:"making-a-shape",children:"Making a Shape"}),"\n",(0,r.jsx)(s.p,{children:"Step-by step instructions on how to make a new shape for the Shape Generation Tool."}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Make a new item modifier for selecting your shape."}),"\n",(0,r.jsx)(s.p,{children:"Example of a shape item modifier:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'[\r\n    {\r\n        "function": "minecraft:set_nbt",\r\n        "tag": "{WorldTool:{Shape:\\"myplugin:example\\"}}"\r\n    },\r\n    {\r\n        "function": "minecraft:set_lore",\r\n        "lore": [\r\n            {"nbt":"Translation.\\"myplugin.lore.selected_shape.example\\"","storage": "worldtool:storage","color": "yellow","italic": false},\r\n            {"nbt":"Translation.\\"lore.selected_block\\"","storage": "worldtool:storage","color": "light_purple","italic": false},\r\n            {"nbt":"SelectedItem.tag.WorldTool.PrimaryBlock.State.Name", "entity": "@s","color": "aqua","italic": false},\r\n            "",\r\n            {"nbt":"Translation.\\"lore.shape_tool.normal.1\\"","storage": "worldtool:storage","interpret": true,"italic": false},\r\n            {"nbt":"Translation.\\"lore.shape_tool.normal.2\\"","storage": "worldtool:storage","interpret": true,"italic": false},\r\n            {"nbt":"Translation.\\"lore.shape_tool.normal.3\\"","storage": "worldtool:storage","interpret": true,"italic": false}\r\n        ],\r\n        "entity": "this",\r\n        "replace": true\r\n    }\r\n]\n'})}),"\n",(0,r.jsx)(s.p,{children:"The parts you need to pay attention to are:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["The ",(0,r.jsx)(s.code,{children:"Shape"})," ID."]}),"\n",(0,r.jsxs)(s.li,{children:["The first ",(0,r.jsx)(s.a,{href:"translations#adding-translations-to-existing-languages",children:"translation"})," in the ",(0,r.jsx)(s.code,{children:'"lore"'})," list."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Make a new function for running when your shape is selected."}),"\n",(0,r.jsx)(s.p,{children:"Example of a shape selection function:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-mcfunction",children:"# Called by worldtool:ui_shapes/select_shape/menu\r\n# Example of a shape selection function\r\n\r\n# This is used to make sure the user is holding the Shape Generation Tool\r\nfunction worldtool:ui_shapes/check_tool\r\n\r\n# Call your item modifier\r\nitem modify entity @s weapon.mainhand myplugin:example_shape\r\n\r\n# Go back to the main Shape Generation Tool menu\r\nfunction worldtool:ui_shapes/menu\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Make a new predicate for checking when your shape is selected."}),"\n",(0,r.jsx)(s.p,{children:"Example of a shape predicate:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\r\n    "condition": "minecraft:entity_properties",\r\n\r\n    "entity": "this",\r\n    "predicate": {\r\n        "equipment": {\r\n            "mainhand": {\r\n                "nbt": "{WorldTool:{Shape:\\"myplugin:example\\"}}"\r\n            }\r\n        }\r\n    }\r\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsxs)(s.a,{href:"hooks#ui_shapesshape_list",children:[(0,r.jsx)(s.code,{children:"ui_shapes/shape_list"})," hook"]})," to display a button for your shape, which when clicked calls the function you made for it. Use the predicate you made to display a grayed out button when the shape is already selected."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsxs)(s.a,{href:"hooks#ui_shapesmenuadd_tags",children:[(0,r.jsx)(s.code,{children:"ui_shapes/menu/add_tags"})," hook"]})," to remove or add the settings you want to have available in the menu. The full list of tags is:"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"wt.setting.diameter"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.precision"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.orientation"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.degrees"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.length"})," (Default = unavailable)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.y_rotation"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.x_rotation"})," (Default = available, depends on orientation)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.z_rotation"})," (Default = available, depends on orientation)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.hollow"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.keep"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.continuous"})," (Default = available)",(0,r.jsx)("br",{}),"\r\n",(0,r.jsx)(s.code,{children:"wt.setting.secondary_degrees"})," (Default = unavailable)",(0,r.jsx)("br",{})]}),"\n",(0,r.jsxs)(s.ol,{start:"6",children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Make another function, to set up your shape process."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-mcfunction",children:'# Example of a process setup function\r\n\r\n# Tell the function that sets up all the processes that everything is alright\r\nscoreboard players set #success worldtool 1\r\n\r\ndata modify storage worldtool:storage Processes prepend value {DisplayName:\'{"nbt":"Translation.\\\\"myplugin.process.brush.example\\\\"","storage":"worldtool:storage"}\',ID:"myplugin:example",Tags:["myplugin.process.example","wt.no_message"]}\r\n# If you have set up blocks per tick data for this process\r\ndata modify storage worldtool:storage Processes[0].BlocksPerTick set from storage worldtool:storage BlocksPerTick.Processes[{ID:"worldtool:paint"}].Value\r\n\r\nfunction worldtool:process_start/brush/start/normal/setup_process/set_process_values\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsxs)(s.a,{href:"hooks#process_startshapesprocesses",children:[(0,r.jsx)(s.code,{children:"process_start/shapes/processes"})," hook"]})," to check if your shape is selected with its predicate, and if so, run your process setup function."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"processes#setting-up-files",children:"Follow these steps to make your process work"}),", and you're all set!"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"extra-making-a-preview",children:"Extra: Making a Preview"}),"\n",(0,r.jsx)(s.p,{children:"Instructions on how to make a preview with particles for your shape."}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsxs)(s.a,{href:"hooks#ui_shapesadd_preview_tags",children:[(0,r.jsx)(s.code,{children:"ui_shapes/add_preview_tags"})," hook"]})," to add the preview tags you need. For example:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-mcfunction",metastring:"word-wrap",children:'# Example preview tags to add\r\n\r\nexecute if data storage worldtool:storage Temp.ShapeTool{Shape:"myplugin:example",ShapeSettings:{Orientation:"up"}} run tag @s add myplugin.shape.example.up\r\nexecute if data storage worldtool:storage Temp.ShapeTool{Shape:"myplugin:example",ShapeSettings:{Orientation:"down"}} run tag @s add myplugin.shape.example.down\r\nexecute if data storage worldtool:storage Temp.ShapeTool{Shape:"myplugin:example"} unless data storage worldtool:storage Temp.ShapeTool.ShapeSettings{Orientation:"up"} unless data storage worldtool:storage Temp.ShapeTool.ShapeSettings{Orientation:"down"} run tag @s add myplugin.shape.example.horizontal\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsxs)(s.a,{href:"hooks#ui_shapesremove_preview_tags",children:[(0,r.jsx)(s.code,{children:"ui_shapes/remove_preview_tags"})," hook"]})," to remove all possible tags you added in the previous step."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsxs)(s.a,{href:"hooks#particlesshape_previews",children:[(0,r.jsx)(s.code,{children:"particles/shape_previews"})," hook"]})," to check for your tag(s) and run your preview functions based off that."]}),"\n",(0,r.jsxs)(s.p,{children:["You can use the ",(0,r.jsx)(s.code,{children:"particle minecraft:dust 0.671 0.161 0.875 1.5 ~ ~ ~ 0 .3 0 2 3 force @a[tag=wt.shape_preview_temp]"})," command to display particles."]}),"\n",(0,r.jsxs)(s.p,{children:["There are also useful functions to aid you with displaying a shape, such as ",(0,r.jsx)(s.code,{children:"worldtool:particles/shape_preview/circle_horizontal/line/load"}),", ",(0,r.jsx)(s.code,{children:"worldtool:particles/shape_preview/circle_horizontal/rotation/load"}),", and ",(0,r.jsx)(s.code,{children:"worldtool:particles/shape_preview/circle_vertical/load"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["The shape settings are available through ",(0,r.jsx)(s.code,{children:"@s"}),"'s ",(0,r.jsx)(s.code,{children:"data.WorldTool.ShapeSettings"})," data."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);